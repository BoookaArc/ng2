<ng-template key="plugin-query-builder-panel.tpl.html"
             let-$builder>
	<mat-card class="mat-elevation-z">
		<mat-card-header>
			<mat-card-title>
				Query Builder
			</mat-card-title>
		</mat-card-header>
		<mat-card-content class="layout-column">
			<div class="flex-node q-grid-query-builder-toolbar">
				<mat-toolbar>
					<button mat-button
					        (click)="$builder.addGroup.execute()"
					        [disabled]="!$builder.addGroup.canExecute()">
						<mat-icon>playlist_add</mat-icon>Add Group
					</button>
					<button mat-button
					        (click)="$builder.removeGroup.execute()"
					        [disabled]="!$builder.removeGroup.canExecute()">
						<mat-icon>delete_forever</mat-icon>Del Group
					</button>
					<button mat-button
					        (click)="$builder.addExpression.execute()"
					        [disabled]="!$builder.addExpression.canExecute()">
						<mat-icon>playlist_add_check</mat-icon>Add Expr.
					</button>
					<button mat-button
					        (click)="$builder.removeExpression.execute()"
					        [disabled]="!$builder.removeExpression.canExecute()">
						<mat-icon>delete_forever</mat-icon>Del Expr.
					</button>
				</mat-toolbar>
			</div>
			<div class="flex-100 q-grid-query-builder-expression">
				<q-grid-eb-node [model]="$builder.node">
				</q-grid-eb-node>
			</div>
		</mat-card-content>
		<mat-card-actions>
			<button mat-button
			        (click)="$builder.cancel.execute()">
				Cancel
			</button>
			<button mat-button
			        (click)="$builder.reset.execute()">
				Clear
			</button>
			<button mat-button
			        color="primary"
			        (click)="$builder.submit.execute()">
				Apply
			</button>
		</mat-card-actions>
	</mat-card>
</ng-template>