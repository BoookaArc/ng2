<ng-template key="plugin-column-filter-number.tpl.html"
             let-$columnFilter
             let-$plugin="plugin"
             let-$vscroll="vscroll">
	<div class="plugin-column-filter-number">
		<mat-select class="q-grid-column-filter-change-operator"
					[(value)]="$plugin.numberOperatorKey"
					(selectionChange)="$plugin.reset()">
			<mat-select-trigger>
				<mat-icon>{{ $plugin.currentOperator.icon }}</mat-icon>
			</mat-select-trigger>

			<mat-option *ngFor="let opKey of $plugin.numberOperatorsKeys"
			            value="{{ opKey }}">
				<mat-icon class="q-grid-icon html">{{ $plugin.numberOperators[opKey].icon }}</mat-icon> {{ $plugin.numberOperators[opKey].name }}
			</mat-option>
		</mat-select>

		<div [ngSwitch]="$plugin.numberOperatorKey">
			<ng-container *ngSwitchCase="'contains'"
			              key="plugin-column-filter.tpl.html"
			              [context]="{ $implicit: $columnFilter, plugin: $plugin, vscroll: $vscroll }"></ng-container>

			<mat-card *ngSwitchDefault
			          class="mat-elevation-z">
				<mat-card-header>
					<mat-card-title> {{ $columnFilter.title }} Filter </mat-card-title>
				</mat-card-header>
				<mat-card-content>
					<div>
						<mat-form-field class="q-grid-column-filter-filter"
										[ngClass]="{ 'half' : !!$plugin.currentOperator.rightInputLabel }">
							<input type="search"
								matInput
								placeholder="{{ $plugin.currentOperator.leftInputLabel }}"
								[(ngModel)]="$plugin.currentOperator.leftInputLabel && $plugin.search"
								[disabled]="!$plugin.currentOperator.leftInputLabel"
								q-grid-focus />
						</mat-form-field>
						<mat-form-field class="q-grid-column-filter-filter half"
										*ngIf="$plugin.currentOperator.rightInputLabel">
							<input type="search"
								matInput
								placeholder="{{ $plugin.currentOperator.rightInputLabel }}"
								[(ngModel)]="$plugin.rightSearch"
								q-grid-focus />
						</mat-form-field>
					</div>
				</mat-card-content>
				<mat-card-actions>
					<button mat-button
					        (click)="$columnFilter.cancel.execute()">
						Cancel
					</button>
					<button mat-button
					        (click)="$columnFilter.reset.execute()">
						Clear
					</button>
					<button mat-button
					        color="primary"
					        (click)="$columnFilter.submit.execute($plugin.numberOperatorKey, $plugin.search, $plugin.rightSearch)">
						Apply
					</button>
				</mat-card-actions>
			</mat-card>
		</div>
	</div>
</ng-template>